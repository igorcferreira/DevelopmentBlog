<!doctype html><html lang="en" data-bs-theme="light"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Por causa de uma thread no Twitter, eu criei um pequeno gist com uma tentativa de simular o use de DynamicNavigationDestinationLink para mostrar um conteúdo carregado de uma fonte externa. Isso pode ser útil para quem está em busca da fonte de um crash."><meta name="author" content="Igor Ferreira"><meta name="generator" content="Ignite v0.1.0"><title>Usando DynamicNavigationDestinationLink</title><link href="/css/bootstrap.min.css" rel="stylesheet"><link href="/css/bootstrap-icons.min.css" rel="stylesheet"><link href="https://igorcferreira.dev/pt-BR/dynamic-navigation-destionation-link" rel="canonical"><link href="/favicon.ico" rel="icon"><meta property="og:site_name" content="Development Blog"><meta property="og:title" content="Usando DynamicNavigationDestinationLink"><meta property="twitter:title" content="Usando DynamicNavigationDestinationLink"><meta property="og:description" content="Usando DynamicNavigationDestinationLink"><meta name="twitter:description" content="Usando DynamicNavigationDestinationLink"><meta property="og:url" content="https://igorcferreira.dev/pt-BR/dynamic-navigation-destionation-link"><meta name="twitter:domain" content="igorcferreira.dev"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:dnt" content="on"><link href="/css/sidebar.css" rel="stylesheet"><link href="/css/prism-default-dark.css" rel="stylesheet"><script src="/script/theme.js"></script><script src="/script/syntax-highlighting.js"></script><link href="/apple-touch-icon-precomposed.png" rel="apple-touch-icon"><meta name="apple-mobile-web-app-title" content="Development Blog"></head><body data-bs-theme="auto"><div class="col-sm-10 mx-auto"><header><nav class="sidebar sidebar-nav navbar navbar-expand-md"><div class="container-fluid col"><button type="button" class="navbar-toggler btn" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div id="navbarCollapse" class="collapse navbar-collapse"><ul class="navbar-nav mb-2 mb-md-0 col"><li><button type="button" class="dropdown-toggle btn" data-bs-toggle="dropdown" aria-expanded="false"><a href="/pt-BR/dynamic-navigation-destionation-link"><img src="/images/flag_brazil.svg"  class="language-icon"alt="português (Brasil)"/></a></button><ul class="dropdown-menu" style="min-width: 1rem; padding: .5rem"><li><a href="/en/dynamic-navigation-destionation-link"><img src="/images/flag_uk.svg"  class="language-icon"alt="English"/></a></li><li><a href="/pt-BR/dynamic-navigation-destionation-link"><img src="/images/flag_brazil.svg"  class="language-icon"alt="português (Brasil)"/></a></li></ul></li><li class="nav-item"><a href="/pt-BR/" class="sidebar-nav-item nav-link">Início</a></li><li class="nav-item"><a href="/pt-BR/categories" class="sidebar-nav-item nav-link">Categorias</a></li><li class="nav-item"><a href="https://mastodon.social/@igorcferreira" rel="me" class="sidebar-nav-item nav-link">Mastodon</a></li></ul></div></div></nav></header><div class="content"><h1>Usando DynamicNavigationDestinationLink</h1><div><p>Tagged with: iOS, SwiftUI</p><p>193 words; 1 minutes to read.</p></div><p><p>Por causa de uma <a href="https://twitter.com/thwittem/status/1143272885588549632">thread no Twitter</a>, eu criei um <a href="https://gist.github.com/igorcferreira/b302ea59830ce1a3ee2558fa996505ea">pequeno gist</a> com uma tentativa de simular o use de DynamicNavigationDestinationLink para mostrar um conteúdo carregado de uma fonte externa. Isso pode ser útil para quem está em busca da fonte de um crash.</p><pre><code class="language-swift">import SwiftUI
import PlaygroundSupport

struct RootView: View {
    var body: some View {
        NavigationView {
            MainView()
        }
    }
}

struct MainView: View {
    
    let destination = DynamicNavigationDestinationLink(id: \String.self) { state in
        SecondaryView(input: state)
    }
    @State var loading: Bool = false
    
    var body: some View {
        VStack {
            Text(loading ? "Loading" : "Main View")
            if !loading {
                Button(action: self.navigate) {
                    Text("Random number")
                }
            }
        }
    }
    
    func navigate() {
        self.loading = true
        let number = (1...100).randomElement() ?? 0
        DispatchQueue.main.asyncAfter(deadline: .now() + 2) {
            self.loading = false
            self.destination.presentedData?.value = "\(number)"
        }
    }
}

struct SecondaryView: View {
    @State var input: String
    
    var body: some View {
        Text(input)
    }
}

PlaygroundPage.current.liveView = UIHostingController(rootView: RootView())
PlaygroundPage.current.needsIndefiniteExecution = true
</code></pre><p>P.s.: Esse código foi feito em um Playground porque eu prefiro essa ferramenta para executar testes/exemplos de SwiftUI no Mojave.</p></p><p class="text-center mt-5">Created with <a href="https://github.com/twostraws/Ignite">Ignite</a></p></div></div><script src="/js/bootstrap.bundle.min.js"></script></body></html>