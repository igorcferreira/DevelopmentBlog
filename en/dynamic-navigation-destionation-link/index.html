<!doctype html><html lang="en" data-bs-theme="light"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Because of a thread on Twitter, I created this simple gist with an attempt to simulate the use of DynamicNavigationDestinationLink to display a content fetched from an external source, it may be useful for you on trying to find a solution for your crashes."><meta name="author" content="Igor Ferreira"><meta name="generator" content="Ignite v0.1.0"><title>Using DynamicNavigationDestinationLink</title><link href="/css/bootstrap.min.css" rel="stylesheet"><link href="/css/bootstrap-icons.min.css" rel="stylesheet"><link href="https://igorcferreira.dev/en/dynamic-navigation-destionation-link" rel="canonical"><link href="/favicon.ico" rel="icon"><meta property="og:site_name" content="Development Blog"><meta property="og:title" content="Using DynamicNavigationDestinationLink"><meta property="twitter:title" content="Using DynamicNavigationDestinationLink"><meta property="og:description" content="Using DynamicNavigationDestinationLink"><meta name="twitter:description" content="Using DynamicNavigationDestinationLink"><meta property="og:url" content="https://igorcferreira.dev/en/dynamic-navigation-destionation-link"><meta name="twitter:domain" content="igorcferreira.dev"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:dnt" content="on"><link href="/css/sidebar.css" rel="stylesheet"><link href="/css/prism-default-dark.css" rel="stylesheet"><script src="/script/theme.js"></script><script src="/script/syntax-highlighting.js"></script><link href="/apple-touch-icon-precomposed.png" rel="apple-touch-icon"><link href="https://mastodon.social/@igorcferreira" rel="me"><meta name="apple-mobile-web-app-title" content="Development Blog"><meta name="fediverse:creator" content="@igorcferreira@mastodon.social"></head><body data-bs-theme="auto"><div class="col-sm-10 mx-auto"><header><nav class="sidebar sidebar-nav navbar navbar-expand-md"><div class="container-fluid col"><button type="button" class="navbar-toggler btn" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div id="navbarCollapse" class="collapse navbar-collapse"><ul class="navbar-nav mb-2 mb-md-0 col"><li class="nav-item"><a href="/en/" class="sidebar-nav-item nav-link">Home</a></li><li class="nav-item"><a href="/en/categories" class="sidebar-nav-item nav-link">Categories</a></li><li class="nav-item"><a href="https://mastodon.social/@igorcferreira" rel="me" class="sidebar-nav-item nav-link">Mastodon</a></li></ul></div></div></nav></header><div class="content"><h1>Using DynamicNavigationDestinationLink</h1><div><p>Tagged with: iOS, SwiftUI</p><p>189 words; 1 minutes to read.</p></div><p><p>Because of a <a href="https://twitter.com/thwittem/status/1143272885588549632">thread on Twitter</a>, I created this <a href="https://gist.github.com/igorcferreira/b302ea59830ce1a3ee2558fa996505ea">simple gist</a> with an attempt to simulate the use of DynamicNavigationDestinationLink to display a content fetched from an external source, it may be useful for you on trying to find a solution for your crashes.</p><pre><code class="language-swift">import SwiftUI
import PlaygroundSupport

struct RootView: View {
    var body: some View {
        NavigationView {
            MainView()
        }
    }
}

struct MainView: View {
    
    let destination = DynamicNavigationDestinationLink(id: \String.self) { state in
        SecondaryView(input: state)
    }
    @State var loading: Bool = false
    
    var body: some View {
        VStack {
            Text(loading ? "Loading" : "Main View")
            if !loading {
                Button(action: self.navigate) {
                    Text("Random number")
                }
            }
        }
    }
    
    func navigate() {
        self.loading = true
        let number = (1...100).randomElement() ?? 0
        DispatchQueue.main.asyncAfter(deadline: .now() + 2) {
            self.loading = false
            self.destination.presentedData?.value = "\(number)"
        }
    }
}

struct SecondaryView: View {
    @State var input: String
    
    var body: some View {
        Text(input)
    }
}

PlaygroundPage.current.liveView = UIHostingController(rootView: RootView())
PlaygroundPage.current.needsIndefiniteExecution = true
</code></pre><p>P.s.: It is as a Playground because I prefer this way to test/run SwiftUI on Mojave.</p></p><p class="text-center mt-5">Created with <a href="https://github.com/twostraws/Ignite">Ignite</a></p></div></div><script src="/js/bootstrap.bundle.min.js"></script></body></html>